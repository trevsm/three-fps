(this["webpackJsonpminecraft-react"]=this["webpackJsonpminecraft-react"]||[]).push([[0],{34:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(25),c=a.n(o),i=(a(34),a(6)),l=a(37),m=a(40),u=function(){var e=8.25;return n.a.createElement(n.a.Fragment,null,n.a.createElement(m.a,{distance:45e4,sunPosition:[1,1,0],inclination:0,azimuth:.25}),n.a.createElement("hemisphereLight",{skyColor:"black",groundColor:16777215,intensity:.5,position:[0,50,0]}),n.a.createElement("directionalLight",{position:[-8,20,8],"shadow-camera-left":-1*e,"shadow-camera-bottom":-1*e,"shadow-camera-right":e,"shadow-camera-top":e,"shadow-camera-near":.1,"shadow-camera-far":1500,castShadow:!0}))},s=a(11),g=a(4),p=a(39),d=a(1),f=a(3),y=function(e){var t=Object(r.useRef)(),a=Object(l.d)((function(){return Object(s.a)({mass:1,type:"Dynamic",position:[0,2.5,0]},e)})),o=Object(g.a)(a,2),c=o[0],m=o[1],u=Object(r.useRef)([0,0,0]),y=Object(r.useRef)([0,0,0]),E=new d.Vector3,h=new d.Vector3,b=new d.Vector3,j=new d.Euler,M=function(){var e=Object(r.useState)({forward:!1,backward:!1,left:!1,right:!1,jump:!1,run:!1}),t=Object(g.a)(e,2),a=t[0],n=t[1],o={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",Space:"jump",ShiftLeft:"run"},c=function(e){return o[e]};return Object(r.useEffect)((function(){var e=function(e){return n((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(f.a)({},c(e.code),!0))}))},t=function(e){return n((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(f.a)({},c(e.code),!1))}))};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),a}(),v=M.forward,O=M.backward,w=M.left,P=M.right,_=M.jump,C=M.run,I=Object(i.f)().camera,k=function(){h.set(0,0,O-v),b.set(w-P,0,0),j.set(0,0,0);var e=7;w||P?e=4.2:C&&(e=10.5),E.subVectors(h,b).normalize().multiplyScalar(e).applyEuler(I.rotation),u.current[0]-=u.current[0]/5,u.current[2]-=u.current[2]/5;var a=[u.current[0]+E.x/5,u.current[1],u.current[2]+E.z/5];y.current[1]<1&&(m.velocity.set(a[0],a[1],a[2]),_||(t.current=!1),_&&!t.current&&(t.current=!0,m.velocity.set(a[0],7.5,a[2])))};return Object(r.useEffect)((function(){m.velocity.subscribe((function(e){return u.current=e})),m.position.subscribe((function(e){return y.current=e}))}),[]),Object(i.d)((function(){!function(){var e=c.current.position;I.position.y=e.y+2.5,I.position.x=e.x,I.position.z=e.z}(),k()})),n.a.createElement(n.a.Fragment,null,n.a.createElement(p.a,null),n.a.createElement("mesh",{ref:c}))},E=a(29),h=a.n(E);function b(e){var t=e.showPanel,a=void 0===t?0:t,n=e.className,o=e.parent,c=Object(r.useState)((function(){return new h.a})),l=Object(g.a)(c,1)[0];return Object(r.useEffect)((function(){var e=o&&o.current||document.body;l.showPanel(a),e.appendChild(l.dom),n&&l.dom.classList.add(n);var t=Object(i.c)((function(){return l.begin()})),r=Object(i.b)((function(){return l.end()}));return function(){e.removeChild(l.dom),t(),r()}}),[o]),null}var j=function(e){var t=Object(l.e)((function(){return{position:[0,0,0],rotation:[-Math.PI/2,0,0],args:[100,100,16,16]}})),a=Object(g.a)(t,1)[0];return n.a.createElement("mesh",{ref:a},n.a.createElement("planeBufferGeometry",{attach:"geometry",args:[100,100]}),n.a.createElement("meshStandardMaterial",{attach:"material",color:"#42523d"}))},M=a(13);function v(e){var t=Object(r.useRef)(),a=Object(M.a)("/models/examples/village/scene.gltf"),o=a.nodes,c=a.materials;return n.a.createElement("group",Object.assign({ref:t},e,{dispose:null}),n.a.createElement("group",{rotation:[-Math.PI/2,0,0]},n.a.createElement("group",{position:[-1.01,-8.85,4.34],rotation:[0,0,-3],scale:[.19,.19,.11]},n.a.createElement("mesh",{material:c.Main,geometry:o.Cylinder008_0.geometry})),n.a.createElement("group",{position:[-.07,-.92,.86],rotation:[-Math.PI/2,0,0],scale:[0,.01,.01]},n.a.createElement("mesh",{material:c.Main,geometry:o.Cube035_0.geometry})),n.a.createElement("group",{position:[4.24,2.89,-.03],rotation:[Math.PI/2,0,0],scale:[.71,.71,.71]},n.a.createElement("mesh",{material:c.Main,geometry:o.Cylinder_Cylinder009_0.geometry})),n.a.createElement("group",{scale:[8.88,8.88,8.88]},n.a.createElement("mesh",{material:c.Main,geometry:o.Plane001_0.geometry})),n.a.createElement("group",{position:[-1.01,-8.7,4.22],rotation:[0,0,-Math.PI/2],scale:[.04,.04,.04]},n.a.createElement("mesh",{material:c.Main,geometry:o.Cylinder000_0.geometry})),n.a.createElement("group",{position:[3.22,5.42,2.05],rotation:[0,0,-1.92],scale:[.12,.12,.42]},n.a.createElement("mesh",{material:c.Main,geometry:o.Plane009_0.geometry})),n.a.createElement("group",{position:[-7.58,-.4,.88],scale:[.22,.22,.22]},n.a.createElement("mesh",{material:c.Main,geometry:o.Cylinder_0.geometry})),n.a.createElement("group",{position:[7.51,-3.06,2.28],rotation:[Math.PI/2,Math.PI/2,0],scale:[.33,.11,.11]},n.a.createElement("mesh",{material:c.Main,geometry:o.Plane_0.geometry})),n.a.createElement("group",{position:[-7.05,-3.33,4.41],rotation:[0,0,-Math.PI/2],scale:[.02,.02,.02]},n.a.createElement("mesh",{material:c.Main,geometry:o.Cylinder002_0.geometry})),n.a.createElement("group",{position:[6.7,-3.33,4.41],rotation:[0,0,-Math.PI/2],scale:[.02,.02,.02]},n.a.createElement("mesh",{material:c.Main,geometry:o.Cylinder001_0.geometry})),n.a.createElement("group",{position:[-5.24,-2.92,-.03],rotation:[Math.PI/2,-Math.PI/2,0],scale:[.11,.11,.03]},n.a.createElement("mesh",{material:c.Main,geometry:o.Cylinder003_0.geometry})),n.a.createElement("group",{position:[-6.46,-3.33,2.14],rotation:[Math.PI/2,Math.PI/2,0],scale:[.25,.31,.31]},n.a.createElement("mesh",{material:c.Main,geometry:o.Plane012_0.geometry})),n.a.createElement("group",{position:[4.96,8.1,.51],scale:[.89,.01,.07]},n.a.createElement("mesh",{material:c.Main,geometry:o.Cube005_0.geometry})),n.a.createElement("group",{position:[-1.34,1,2.38],rotation:[0,0,0],scale:[.01,.01,.42]},n.a.createElement("mesh",{material:c.Main,geometry:o.Cube_0.geometry})),n.a.createElement("group",{position:[6.63,1.33,.15],rotation:[0,0,-Math.PI/2],scale:[.31,.31,.31]},n.a.createElement("mesh",{material:c.Main,geometry:o.Plane002_0.geometry}))))}M.a.preload("/models/trees/tree01/scene.gltf"),M.a.preload("/models/examples/village/scene.gltf");var O=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(v,{position:[0,1,0]}),n.a.createElement(j,null))};function w(){return n.a.createElement(i.a,{shadowMap:!0,gl:{alpha:!1},camera:{fov:50}},n.a.createElement(u,null),n.a.createElement(b,null),n.a.createElement(l.a,{gravity:[0,-10,0]},n.a.createElement(y,null),n.a.createElement(O,null)))}c.a.render(n.a.createElement(w,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.0185fd74.chunk.js.map