(this["webpackJsonpminecraft-react"]=this["webpackJsonpminecraft-react"]||[]).push([[0],{34:function(e,t,r){},36:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(25),u=r.n(c),o=(r(34),r(6)),i=r(37),l=r(40),s=function(){var e=8.25;return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.a,{distance:45e4,sunPosition:[1,1,0],inclination:0,azimuth:.25}),a.a.createElement("hemisphereLight",{skyColor:"black",groundColor:16777215,intensity:.5,position:[0,50,0]}),a.a.createElement("directionalLight",{position:[-8,20,8],"shadow-camera-left":-1*e,"shadow-camera-bottom":-1*e,"shadow-camera-right":e,"shadow-camera-top":e,"shadow-camera-near":.1,"shadow-camera-far":1500,castShadow:!0}))},m=r(11),f=r(4),d=r(1),p=r(3),b=Object(n.forwardRef)((function(e,t){var r=e.STATS,a=e.api,c=Object(n.useRef)([0,0,0]),u=Object(n.useRef)([0,0,0]),i=Object(n.useRef)(),l=new d.Vector3,s=new d.Vector3,b=new d.Vector3,h=new d.Euler,j=function(){var e=Object(n.useState)({forward:!1,backward:!1,left:!1,right:!1,jump:!1,run:!1}),t=Object(f.a)(e,2),r=t[0],a=t[1],c={KeyW:"forward",KeyS:"backward",KeyA:"left",KeyD:"right",Space:"jump",ShiftLeft:"run"},u=function(e){return c[e]};return Object(n.useEffect)((function(){var e=function(e){return a((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(p.a)({},u(e.code),!0))}))},t=function(e){return a((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(p.a)({},u(e.code),!1))}))};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),r}(),E=j.forward,v=j.backward,g=j.left,w=j.right,O=j.jump,y=j.run,S=function(){s.set(0,0,v-E),b.set(g-w,0,0),h.set(0,0,0);var t=r.speed;g||w?t=r.pan_speed():y&&(t=r.run_speed()),l.subVectors(s,b).normalize().multiplyScalar(t).applyEuler(e.camera.rotation),c.current[0]-=c.current[0]/r.inertia,c.current[2]-=c.current[2]/r.inertia;var n=[c.current[0]+l.x/r.inertia,c.current[1],c.current[2]+l.z/r.inertia];u.current[1]<1&&(a.velocity.set(n[0],n[1],n[2]),O||(i.current=!1),O&&!i.current&&(i.current=!0,a.velocity.set(n[0],r.jump_height(),n[2])))};return Object(n.useEffect)((function(){a.velocity.subscribe((function(e){return c.current=e})),a.position.subscribe((function(e){return u.current=e}))}),[]),Object(o.d)((function(){S()})),null})),h=r(39),j=Object(n.forwardRef)((function(e,t){return Object(o.d)((function(){!function(){var r=t.current.position;e.camera.position.y=r.y+e.STATS.player_height,e.camera.position.x=r.x,e.camera.position.z=r.z}()})),a.a.createElement(h.a,null)}));function E(e){var t={speed:7,player_height:2.5,run_speed:function(){return 2*t.speed},pan_speed:function(){return.6*t.speed},jump_height:function(){return 3*t.player_height},inertia:5},r=Object(i.d)((function(){return Object(m.a)({mass:1,type:"Dynamic",position:[0,t.player_height,0]},e)})),n=Object(f.a)(r,2),c=n[0],u=n[1],l=Object(o.f)().camera;return a.a.createElement("group",null,a.a.createElement(j,{ref:c,STATS:t,camera:l}),a.a.createElement(b,{ref:c,api:u,STATS:t,camera:l}),a.a.createElement("mesh",{ref:c}))}var v=r(29),g=r.n(v);function w(e){var t=e.showPanel,r=void 0===t?0:t,a=e.className,c=e.parent,u=Object(n.useState)((function(){return new g.a})),i=Object(f.a)(u,1)[0];return Object(n.useEffect)((function(){var e=c&&c.current||document.body;i.showPanel(r),e.appendChild(i.dom),a&&i.dom.classList.add(a);var t=Object(o.c)((function(){return i.begin()})),n=Object(o.b)((function(){return i.end()}));return function(){e.removeChild(i.dom),t(),n()}}),[c]),null}var O=r.p+"static/media/grass.000eb687.jpg",y=function(e){var t=Object(i.e)((function(){return{position:[0,0,0],rotation:[-Math.PI/2,0,0],args:[100,100,16,16]}})),r=Object(f.a)(t,1)[0],n=Object(o.e)(d.TextureLoader,O);return n.wrapS=n.wrapT=d.RepeatWrapping,n.repeat.set(100,100),a.a.createElement("mesh",{ref:r},a.a.createElement("planeBufferGeometry",{attach:"geometry",args:[100,100]}),a.a.createElement("meshStandardMaterial",{attach:"material",map:n}))},S=r(13);S.a.preload("/models/trees/tree01/scene.gltf"),S.a.preload("/models/examples/village/scene.gltf");var k=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(y,null))};function T(){return a.a.createElement(o.a,{shadowMap:!0,gl:{alpha:!1},camera:{fov:50}},a.a.createElement(s,null),a.a.createElement(w,null),a.a.createElement(i.a,{gravity:[0,-10,0]},a.a.createElement(E,null),a.a.createElement(k,null)))}u.a.render(a.a.createElement(T,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.a003e3f1.chunk.js.map